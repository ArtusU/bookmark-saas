{% extends 'core/base.html' %}

{% block content %}
<div class="container" id="plans">
    <h1 class="title">Plans</h1>

    {% for p in products %}
        <h2 class="subtitle">{{ p.name }}</h2>

        {% for plan in p.plan_set.all %}
            <h3>{{ plan.human_readable_price }}</h3>

            <input type="hidden" id="plan" value="{{ p.name }}"><br>
            <input type="hidden" id="price" value="{{ plan.human_readable_price }}"><br>
            <input type="hidden" id="priceId" value="{{ plan.id }}"><br>
        {% endfor %}
    {% endfor %}

    <form v-on:submit.prevent="buyPro">
        <h3 class="subtitle">Card information</h3>
        
        <div id="card"></div>

        <hr>

        <div class="field">
            <div class="control">
                <button class="button is-primary">Buy</button>
            </div>
        </div>
    </form>

    <div id="card-errors"></div>
</div>
{% endblock %}
